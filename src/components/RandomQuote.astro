---
import {getLocale} from "astro-i18n-aut";

const currentLanguage: string = getLocale(Astro.url);

const quotes = {
    ru: [
        // ЗНАНИЕ И НЕВЕЖЕСТВО
        "Чудо, что любопытство выживает после формального образования — Эйнштейн",
        "Любопытство важнее знаний. Знания ограничены, тогда как любопытство охватывает целый мир — Эйнштейн",
        "Вы никогда не сумеете решить возникшую проблему, если сохраните то же мышление — Эйнштейн",
        "Все мы гении. Но если вы будете судить рыбу по её способности взбираться на дерево, она проживёт всю жизнь, считая себя дурой — Эйнштейн",
        "Я знаю, что ничего не знаю, но другие не знают и этого — Сократ",
        "Никто тебе не друг, никто тебе не враг, но всякий человек тебе учитель — Сократ",
        "Наша уверенность в осмысленности мира держится на способности игнорировать собственное невежество — Канеман",
        "Не бойтесь держать эксцентричные взгляды, ведь каждое мнение, которое сейчас принято, когда-то было эксцентричным — Бертран Рассел",
        "Образование — это то, что остается после того, как забываешь всё, чему учили в школе — Марк Твен",
        "Легче обмануть людей, чем убедить их в том, что их обманули — Марк Твен",
        "То, во что верят люди, не ощущается ими как вера, они просто думают, что мир такой и есть — Юдковский",
        "Молчи или говори что-нибудь получше молчания — Пифагор",
        "В тот день я сказал три самых сложных слова в моей жизни: 'Я не знаю' — Жак Фреско",
        "Ответ на любой вопрос — учёба — Жак Фреско",
        "Работа с правдой — весьма тонкое дело... Говорите приемлемую правду — Хаббард",
        "Нигде нет так мало единства и так много разногласий как среди рабов — аристотель",

        // ВЛАСТЬ И КОНТРОЛЬ
        "Дай человеку власть, и ты узнаешь кто он — Наполеон",
        "Власть контролируется своей потребностью контролировать — Уильям Берроуз",
        "Как повезло властям, что люди никогда не думают — Гитлер",
        "Не важно, кто голосует, важно — кто голоса подсчитывает — Сталин",
        "Большинство людей в действительности не хотят свободы, потому что она предполагает ответственность — Зигмунд Фрейд",
        "Человек не имеет свободы, пока не знает об этом — Аноним",
        "Природа не создавала ни рабов, ни господ. Я не хочу ни править, ни быть рабом — Джереми Хаммонд",
        "Борьба — это бесконечный процесс. Свободу никогда не завоёвывают окончательно — Нельсон Мандела",
        "Человечество находится в рабстве у организованных преступных группировок, называющих себя 'государствами' — Павел Дуров",
        "Наше внимание — наш самый ценный ресурс — Павел Дуров",
        "Тысячелетиями люди рождались великанами, и общество превращало их в карликов — Павел Дуров",
        "Иерархия — это мать всех угнетений — Мюррей Букчин",
        "Свобода без социализма — это привилегия и несправедливость — Михаил Бакунин",
        "Если голосование что-то меняло, его бы запретили — Эмма Голдман",
        "Патриотизм — это убеждение, что эта страна лучше всех остальных, потому что вы в ней родились — Эмма Голдман",


        // КРИТИКА СИСТЕМЫ
        "Капитализм победил коммунизм. Сейчас он находится на пути к победе над демократией — Дэвид Кортен",
        "Легче представить конец света, чем конец капитализма — Славой Жижек",
        "Капитализм кажется незыблемым. Таким же казалось божественное право королей — Урсула Ле Гуин",
        "Проблема не в том, что мы не можем обеспечить бедных, а в том, что мы не можем удовлетворить запросы богатых — Жак Фреско",
        "Люди находят свою душу в товарах — в автомобилях, смартфонах, брендах — Герберт Маркузе",
        "Большинство не знает, что происходит. И даже не знает, что оно этого не знает — Ноам Хомский",
        "Рабство никогда не было отменено, оно просто расширилось и теперь включает все расы — Чарльз Буковски",

        // ИНФОРМАЦИЯ И МАНИПУЛЯЦИИ
        "Цель пропаганды — заставить одних забыть, что другие — тоже люди — Олдос Хаксли",
        "Политика — это язык, наложенный на реальность, чтобы скрыть правду — Джордж Оруэлл",
        "Сообщения СМИ кажутся правдоподобными ровно до тех пор, пока не освещают что-то, с чем ты знаком из личного опыта — Павел Дуров",
        "Самый опасный яд — информационный — Павел Дуров",
        "Интернет — величайшая шпионская машина в истории — Джулиан Ассанж",
        "Люди могут быть буквально отравлены ложными идеями и ложными учениями — Альфред Коржибски",
        "Сознательное и умелое манипулирование привычками и мнениями масс является важным элементом демократического общества — Эдвард Бернейс",
        "Массы никогда не знали жажды истины. Они отворачиваются от фактов, которые им не нравятся — Гюстав Лебон",
        "Мы становимся тем, что созерцаем. Мы формируем наши инструменты, а затем они формируют нас — Маршалл Маклюэн",

        // НАУКА И ОТВЕТСТВЕННОСТЬ
        "Наука — это культ сомнения, а не догм — Ричард Фейнман",
        "Мы — способ Космоса познать себя. Но мы же и его способ уничтожить себя — Карл Саган",
        "Нельзя говорить: 'Я просто хочу зарабатывать'. Ты отвечаешь за мир, который создаёшь — Аарон Шварц",
        "Наука — это всего лишь извращение, если не имеет своей конечной целью улучшение условий человечества — Никола Тесла",
        "Наука продвигается вперед не потому, что ученые меняют свое мнение, а потому, что ученые с устаревшими взглядами умирают — Макс Планк",

        // ЧЕЛОВЕЧЕСКАЯ ПРИРОДА
        "Мир опасен не потому, что некоторые люди творят зло, но потому, что некоторые видят это и ничего не делают — Эйнштейн",
        "Одна смерть — трагедия. Миллион смертей — статистика — Сталин",
        "Чтобы стать безупречным членом стада овец, нужно в первую очередь быть овцой — Эйнштейн",
        "Антисоциальное поведение — это показатель интеллекта в мире, полном конформистов — Никола Тесла",
        "Вас делают похожими, чтобы управлять вами — Жак Фреско",
        "Быть абсолютно честным с самим собой — хорошее упражнение — Зигмунд Фрейд",
        "В большинстве случаев людям причиняет боль не происходящее — их ранят собственные ожидания — Жак Фреско",
        "Человек может делать что хочет, но не может хотеть того, что хочет — Артур Шопенгауэр",
        "Всякая истина проходит три стадии: сначала её высмеивают, потом яростно отвергают, затем принимают как самоочевидную — Артур Шопенгауэр",

        // ИЗМЕНЕНИЯ И АЛЬТЕРНАТИВЫ
        "Если вы полагаете, что мир нельзя изменить, это лишь означает, что вы не один из тех, кто его изменит — Жак Фреско",
        "Чтобы изменить систему, построй новую, которая сделает старую устаревшей — Бакминстер Фуллер",
        "Чем больше ты развиваешься, тем больше ты теряешь контакт с обычными людьми — Жак Фреско",
        "Главная мера ума — это способность меняться — Эйнштейн",
        "Чем выше мы взлетаем, тем меньше мы кажемся тем, кто не может летать — Ницше",
        "Слово 'радикальный' происходит от латинского слова 'корень'. Поэтому, если вы хотите добраться до корня чего-либо, вы должны быть радикальными — Гор Видал",
        "Пессимизм разума, оптимизм воли — Антонио Грамши",
        "Кризис состоит именно в том, что старое умирает, а новое не может родиться — Антонио Грамши",

        // ОБРАЗОВАНИЕ И САМООБРАЗОВАНИЕ
        "Воспитывайте детей, и тогда не нужно будет наказывать взрослых — Пифагор",
        "Единственное образование, в которое я верю, — это самообразование — Аноним",
        "Чтение хороших книг — это разговор с самыми лучшими людьми прошедших времён — Рене Декарт",
        "Школа стала религией современного общества — Иван Иллич",
        "Образование — это не подготовка к жизни; образование — это сама жизнь — Джон Дьюи",
        "Если единственный инструмент у вас молоток, то каждая проблема выглядит как гвоздь — Абрахам Маслоу",

        // ЭКОЛОГИЯ И ОТВЕТСТВЕННОСТЬ
        "Планета не умирает — её убивают. И у убийц есть имена и адреса — Джереми Хаммонд",

        // ТЕХНОЛОГИИ И СВОБОДА
        "Я целенаправленно избегаю дорогостоящих привычек. Как только у вас появляются дорогие привычки, вы превращаетесь в раба денег — Ричард Столлман",
        "Сегодня важно добиться права на свободное пользование компьютером, чтобы иметь возможность защищать другие права человека — Ричард Столлман",
        "Коммуникация переоценена. Час одиночества продуктивнее недели разговоров — Павел Дуров",
        "В этом мире нет сложных задач. Только множество лёгких, которые кажутся страшными, когда их объединяют — Павел Дуров",

        // ФИЛОСОФИЯ ЖИЗНИ
        "Если вы хотите прожить счастливую жизнь, вы должны привязать её к цели, а не к людям или к вещам — Эйнштейн",
        "Счастье — это осознание, что буквально ничего в мире не может быть поводом для вашего несчастья — Аноним",
        "Людям не нужно счастье. Людям нужна уверенность в завтрашнем дне и объективная оценка реальности — Жак Фреско",
        "Не позволяй себе из-за одиночества общаться с идиотами и токсичными людьми. Глупо пить яд лишь потому, что испытываешь жажду — Аноним",
        "Хочешь помочь остальным? Помоги себе. Хочешь помочь себе? Помоги остальным — Аноним",
        "Мне все равно, что они украли мою идею... Меня заботит, что у них не было своих — Никола Тесла",
        "Я не терпел поражений. Я просто нашёл 10 000 способов, которые не работают — Эдисон",

        // МУДРОСТЬ И ИРОНИЯ
        "Мой способ шутить — это говорить правду. На свете нет ничего смешнее — Mr. Freeman",
        "Если видишь хороший ход, ищи ход получше — Эммануэль Ласкер",
        "Я уверен, что вселенная полна разумной жизни. Но она слишком разумна, чтобы прийти сюда — Артур Кларк",
        "Зачем платить деньги, чтобы проследить своё семейное древо? Идите в политику, и ваши оппоненты сделают это за вас — Джереми Хаммонд",

        // СОВРЕМЕННЫЕ КРИТИКИ
        "Единственное постоянное — это изменения — Зигмунт Бауман",
        "Спектакль — это не совокупность образов, а общественное отношение между людьми, опосредованное образами — Гай Дебор",
        "Мы живем в мире, где всё больше информации и всё меньше смысла — Жан Бодрийяр",

        // ДОПОЛНИТЕЛЬНЫЕ ЦИТАТЫ
        "Это мир, который натянули на ваши глаза, дабы ослепить вас от истины. Тюрьма для вашего ума — Матрица",
        "Чем больше причин ты способен замечать, тем ты свободнее — Аноним",
        "У тебя есть права человека, но они написаны от руки — Аноним",
        "Пешка — единственная фигура, которая имеет личную цель. И может стать тем, кем захочет — Аноним",
        "Когда игра заканчивается, король и пешка падают в одну и ту же коробку — Аноним",
        "Я благодарен всем тем, кто сказал мне 'нет'. Из-за них я сделал всё сам — Эйнштейн",
        "Не проклинай тьму. Зажги хоть одну свечу — Аноним",
        "Если тебе не нравятся люди, попробуй стать исключением — Аноним",
        "Те, кто контролирует определения, контролируют реальность — Аноним",
        "Иметь власть над языком — быть его упрямым рабом — Жак Фреско",
        "Нельзя считать здоровым человека, который хорошо приспособлен к глубоко больному обществу» – Джидду Кришнамурти",
    ],
    en: [
        // KNOWLEDGE AND IGNORANCE
        "It is a miracle that curiosity survives formal education — Einstein",
        "Curiosity is more important than knowledge. Knowledge is limited, while curiosity embraces the whole world — Einstein",
        "You can never solve a problem with the same thinking that created it — Einstein",
        "We are all geniuses. But if you judge a fish by its ability to climb a tree, it will live its whole life believing that it is stupid — Einstein",
        "I know that I know nothing, but others don't even know that — Socrates",
        "No one is your friend, no one is your enemy, but every person is your teacher — Socrates",
        "Our confidence in the meaningfulness of the world rests on our ability to ignore our own ignorance — Kahneman",
        "Do not fear to hold eccentric views, for every opinion now accepted was once eccentric — Bertrand Russell",
        "Education is what remains after one has forgotten what one has learned in school — Mark Twain",
        "It's easier to fool people than to convince them that they have been fooled — Mark Twain",
        "What people believe doesn't feel like belief to them, they just think that's what the world is like — Yudkowsky",
        "Either be silent or say something better than silence — Pythagoras",
        "That day I said the three most difficult words in my life: 'I don't know' — Jacques Fresco",
        "The answer to any question is learning — Jacques Fresco",
        "Working with truth is a very delicate matter... Tell acceptable truths — Hubbard",
        "There is nowhere so little unity and so much disagreement as among slaves — Aristotle",

        // POWER AND CONTROL
        "Give a man power, and you will find out who he is — Napoleon",
        "Power is controlled by its need to control — William Burroughs",
        "How fortunate for authorities that people never think — Hitler",
        "It doesn't matter who votes, what matters is who counts the votes — Stalin",
        "Most people do not really want freedom, because freedom involves responsibility — Sigmund Freud",
        "A man has no freedom until he knows about it — Anonymous",
        "Nature created neither slaves nor masters. I want neither to rule nor to be enslaved — Jeremy Hammond",
        "The struggle is an endless process. Freedom is never won definitively — Nelson Mandela",
        "Humanity is enslaved by organized criminal groups calling themselves 'states' — Pavel Durov",
        "Our attention is our most valuable resource — Pavel Durov",
        "For millennia, people were born giants, and society turned them into dwarfs — Pavel Durov",
        "Hierarchy is the mother of all oppression — Murray Bookchin",
        "Freedom without socialism is privilege and injustice — Mikhail Bakunin",
        "If voting changed anything, they'd make it illegal — Emma Goldman",
        "Patriotism is the conviction that this country is superior to all others because you were born in it — Emma Goldman",

        // SYSTEM CRITIQUE
        "Capitalism defeated communism. Now it is on the way to defeating democracy — David Korten",
        "It is easier to imagine the end of the world than the end of capitalism — Slavoj Žižek",
        "Capitalism seems unshakeable. So did the divine right of kings — Ursula K. Le Guin",
        "The problem is not that we cannot provide for the poor, but that we cannot satisfy the demands of the rich — Jacques Fresco",
        "People find their souls in commodities — in cars, smartphones, brands — Herbert Marcuse",
        "Most people don't know what's happening. And they don't even know that they don't know — Noam Chomsky",
        "Slavery was never abolished, it was just expanded and now includes all races — Charles Bukowski",

        // INFORMATION AND MANIPULATION
        "The purpose of propaganda is to make some forget that others are also human — Aldous Huxley",
        "Politics is language imposed on reality to hide the truth — George Orwell",
        "Media messages seem credible right up until they cover something you know from personal experience — Pavel Durov",
        "The most dangerous poison is informational — Pavel Durov",
        "The Internet is the greatest spy machine in history — Julian Assange",
        "People can be literally poisoned by false ideas and false teachings — Alfred Korzybski",
        "The conscious and intelligent manipulation of habits and opinions of the masses is an important element in democratic society — Edward Bernays",
        "The masses have never thirsted for truth. They turn away from facts they do not like — Gustave Le Bon",
        "We become what we contemplate. We shape our tools, and then they shape us — Marshall McLuhan",

        // SCIENCE AND RESPONSIBILITY
        "Science is a culture of doubt, not dogma — Richard Feynman",
        "We are the cosmos's way of knowing itself. But we are also its way of destroying itself — Carl Sagan",
        "You cannot say: 'I just want to make money.' You are responsible for the world you create — Aaron Swartz",
        "Science is nothing but a perversion if it doesn't have as its ultimate goal the betterment of humanity — Nikola Tesla",
        "Science advances not because scientists change their minds, but because scientists with outdated views die — Max Planck",

        // HUMAN NATURE
        "The world is dangerous not because some people do evil, but because some see it and do nothing — Einstein",
        "One death is a tragedy. A million deaths is a statistic — Stalin",
        "To become a perfect member of a herd of sheep, one must above all be a sheep — Einstein",
        "Antisocial behavior is a sign of intelligence in a world full of conformists — Nikola Tesla",
        "They make you alike to control you — Jacques Fresco",
        "Being absolutely honest with yourself is a good exercise — Sigmund Freud",
        "In most cases, people are not hurt by what happens — they are wounded by their own expectations — Jacques Fresco",
        "A man can do what he wills but he cannot will what he wills — Arthur Schopenhauer",
        "All truth passes through three stages: first it is ridiculed, then violently opposed, then accepted as self-evident — Arthur Schopenhauer",

        // CHANGE AND ALTERNATIVES
        "If you think the world cannot be changed, it only means you are not one of those who will change it — Jacques Fresco",
        "To change the system, build a new one that makes the old one obsolete — Buckminster Fuller",
        "The more you develop, the more you lose contact with ordinary people — Jacques Fresco",
        "The main measure of intelligence is the ability to change — Einstein",
        "The higher we soar, the smaller we appear to those who cannot fly — Nietzsche",
        "The word 'radical' comes from the Latin word for 'root.' So if you want to get to the root of anything, you must be radical — Gore Vidal",
        "Pessimism of the intellect, optimism of the will — Antonio Gramsci",
        "The crisis consists precisely in the fact that the old is dying and the new cannot be born — Antonio Gramsci",

        // EDUCATION AND SELF-EDUCATION
        "Educate children, and then you won't need to punish adults — Pythagoras",
        "The only education I believe in is self-education — Anonymous",
        "Reading good books is a conversation with the finest minds of past times — René Descartes",
        "School has become the religion of modern society — Ivan Illich",
        "Education is not preparation for life; education is life itself — John Dewey",
        "If the only tool you have is a hammer, every problem looks like a nail — Abraham Maslow",

        // ECOLOGY AND RESPONSIBILITY
        "The planet is not dying — it is being killed. And the killers have names and addresses — Jeremy Hammond",

        // TECHNOLOGY AND FREEDOM
        "I deliberately avoid expensive habits. Once you have expensive habits, you become a slave to money — Richard Stallman",
        "Today it's important to secure the right to freely use computers so as to be able to defend other human rights — Richard Stallman",
        "Communication is overrated. An hour of solitude is more productive than a week of conversations — Pavel Durov",
        "There are no complex tasks in this world. Only many easy ones that seem scary when combined — Pavel Durov",

        // LIFE PHILOSOPHY
        "If you want to live a happy life, tie it to a goal, not to people or things — Einstein",
        "Happiness is the realization that literally nothing in the world can be a reason for your unhappiness — Anonymous",
        "People don't need happiness. People need confidence in tomorrow and an objective assessment of reality — Jacques Fresco",
        "Don't let loneliness make you communicate with idiots and toxic people. It's foolish to drink poison just because you're thirsty — Anonymous",
        "Want to help others? Help yourself. Want to help yourself? Help others — Anonymous",
        "I don't care that they stole my idea... I care that they didn't have any of their own — Nikola Tesla",
        "I have not failed. I've just found 10,000 ways that won't work — Edison",

        // WISDOM AND IRONY
        "My way of joking is to tell the truth. There's nothing funnier in the world — Mr. Freeman",
        "If you see a good move, look for a better one — Emanuel Lasker",
        "I'm sure the universe is full of intelligent life. But it's too intelligent to come here — Arthur Clarke",
        "Why pay money to trace your family tree? Go into politics, and your opponents will do it for you — Jeremy Hammond",

        // MODERN CRITICS
        "The only constant is change — Zygmunt Bauman",
        "The spectacle is not a collection of images, but a social relation between people, mediated by images — Guy Debord",
        "We live in a world where there is more and more information and less and less meaning — Jean Baudrillard",

        // ADDITIONAL QUOTES
        "This is the world that has been pulled over your eyes to blind you from the truth. A prison for your mind — The Matrix",
        "The more reasons you can notice, the freer you are — Anonymous",
        "You have human rights, but they're written by hand — Anonymous",
        "The pawn is the only piece that has a personal goal. And can become whatever it wants — Anonymous",
        "When the game ends, the king and the pawn fall into the same box — Anonymous",
        "I am grateful to all those who said 'no' to me. Because of them, I did everything myself — Einstein",
        "Don't curse the darkness. Light at least one candle — Anonymous",
        "If you don't like people, try being the exception — Anonymous",
        "Those who control definitions control reality — Anonymous",
        "To have power over language is to be its stubborn slave — Jacques Fresco",
        "It is no measure of health to be well adjusted to a profoundly sick society — Jiddu Krishnamurti",
    ],
};

const refreshTooltips: { [key: string]: string } = {
    ru: "Новая цитата",
    en: "New quote"
};
---

<div class="random-quote" id="randomQuote">
    <span class="quote-text" id="quoteText"></span>
    <button class="quote-refresh" id="refreshQuote" title={refreshTooltips[currentLanguage]}>
        <svg width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z"/>
            <path d="M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z"/>
        </svg>
    </button>
</div>

<style>
    .random-quote {
        display: flex;
        align-items: center;
        gap: 0.5rem;
        max-width: 700px;
        margin-left: 1rem;
        padding: 0.5rem 0.75rem;
        background-color: rgba(var(--base-300), 0.3);
        border-radius: var(--rounded-btn);
        border-left: 3px solid var(--primary);
    }

    .quote-text {
        font-size: 0.875rem;
        font-style: italic;
        color: var(--base-content);
        opacity: 0.85;
        line-height: 1.3;
        flex: 1;
        min-width: 0;
        overflow: hidden;
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
    }

    .quote-refresh {
        display: flex;
        align-items: center;
        justify-content: center;
        width: 2rem;
        height: 2rem;
        padding: 0;
        border: none;
        background: transparent;
        border-radius: 50%;
        color: var(--base-content);
        opacity: 0.6;
        cursor: pointer;
        transition: all 0.2s ease;
        flex-shrink: 0;
    }

    .quote-refresh:hover {
        opacity: 1;
        background-color: rgba(var(--base-content), 0.1);
        transform: rotate(180deg);
    }

    @media (max-width: 768px) {
        .random-quote {
            display: none;
        }
    }

    @media (max-width: 1200px) {
        .random-quote {
            max-width: 350px;
        }

        .quote-text {
            font-size: 0.8rem;
            -webkit-line-clamp: 1;
        }
    }
</style>

<script define:vars={{ quotes, currentLanguage }}>

    function getRandomQuote() {
        return quotes[currentLanguage][Math.floor(Math.random() * quotes[currentLanguage].length)];
    }

    function displayRandomQuote() {
        const quoteElement = document.getElementById('quoteText');
        if (quoteElement) {
            quoteElement.textContent = getRandomQuote();
        }
    }

    document.addEventListener('DOMContentLoaded', () => {
        displayRandomQuote();

        const refreshButton = document.getElementById('refreshQuote');
        if (refreshButton) {
            refreshButton.addEventListener('click', displayRandomQuote);
        }
    });

    document.addEventListener('astro:page-load', () => {
        displayRandomQuote();

        const refreshButton = document.getElementById('refreshQuote');
        if (refreshButton) {
            refreshButton.removeEventListener('click', displayRandomQuote);
            refreshButton.addEventListener('click', displayRandomQuote);
        }
    });

</script>
